function(plasmoidtest plasmoidName)
    configure_file(
            ${CMAKE_CURRENT_SOURCE_DIR}/testLayout.js.in
            ${CMAKE_CURRENT_BINARY_DIR}/testLayout-${plasmoidName}.js
            @ONLY
    )
    configure_file(${CMAKE_CURRENT_SOURCE_DIR}/test.sh.in
                   ${CMAKE_CURRENT_BINARY_DIR}/test-${plasmoidName}.sh
                   @ONLY
    )

    add_test(NAME ${plasmoidName}-test COMMAND
            sh ${CMAKE_CURRENT_BINARY_DIR}/test-${plasmoidName}.sh
    )
endfunction()

plasmoidtest(org.kde.plasma.activitybar)
plasmoidtest(org.kde.plasma.activitypager)
plasmoidtest(org.kde.plasma.analogclock)
plasmoidtest(org.kde.plasma.appmenu)
plasmoidtest(org.kde.plasma.battery)
plasmoidtest(org.kde.plasma.binaryclock)
plasmoidtest(org.kde.plasma.bluetooth)
plasmoidtest(org.kde.plasma.calculator)
plasmoidtest(org.kde.plasma.calendar)
plasmoidtest(org.kde.plasma.clipboard)
plasmoidtest(org.kde.plasma.colorpicker)
plasmoidtest(org.kde.plasma.comic)
plasmoidtest(org.kde.plasma.devicenotifier)
plasmoidtest(org.kde.plasma.digitalclock)
plasmoidtest(org.kde.plasma.diskquota)
plasmoidtest(org.kde.plasma.fifteenpuzzle)
plasmoidtest(org.kde.plasma.folder)
plasmoidtest(org.kde.plasma.fuzzyclock)
plasmoidtest(org.kde.plasma.grouping)
plasmoidtest(org.kde.plasma.icon)
plasmoidtest(org.kde.plasma.icontasks)
plasmoidtest(org.kde.plasma.katesessions)
#kicker uses kactivies, that's disabled, so this fails. Disable test for now
# plasmoidtest(org.kde.plasma.kicker)
plasmoidtest(org.kde.plasma.kickerdash)
plasmoidtest(org.kde.plasma.kickoff)
plasmoidtest(org.kde.plasma.kimpanel)
plasmoidtest(org.kde.plasma.konsoleprofiles)
plasmoidtest(org.kde.plasma.lock_logout)
plasmoidtest(org.kde.plasma.mediacontroller)
plasmoidtest(org.kde.plasma.mediaframe)
plasmoidtest(org.kde.plasma.minimizeall)
plasmoidtest(org.kde.plasma.networkmanagement)
plasmoidtest(org.kde.plasma.notes)
plasmoidtest(org.kde.plasma.notifications)
plasmoidtest(org.kde.plasma.pager)
plasmoidtest(org.kde.plasma.panelspacer)
plasmoidtest(org.kde.plasma.printmanager)
plasmoidtest(org.kde.plasma.quicklaunch)
plasmoidtest(org.kde.plasma.quickshare)
plasmoidtest(org.kde.plasma.showActivityManager)
plasmoidtest(org.kde.plasma.showdesktop)
plasmoidtest(org.kde.plasma.systemloadviewer)
plasmoidtest(org.kde.plasma.systemmonitor.cpu)
plasmoidtest(org.kde.plasma.systemmonitor.diskactivity)
plasmoidtest(org.kde.plasma.systemmonitor.diskusage)
plasmoidtest(org.kde.plasma.systemmonitor.memory)
plasmoidtest(org.kde.plasma.systemmonitor.net)
plasmoidtest(org.kde.plasma.systemtray)
plasmoidtest(org.kde.plasma.taskmanager)
plasmoidtest(org.kde.plasma.timer)
plasmoidtest(org.kde.plasma.trash)
plasmoidtest(org.kde.plasma.userswitcher)
plasmoidtest(org.kde.plasma.volume)
plasmoidtest(org.kde.plasma.weather)
plasmoidtest(org.kde.plasma.webbrowser)
plasmoidtest(org.kde.plasma.windowlist)
plasmoidtest(touchpad)
